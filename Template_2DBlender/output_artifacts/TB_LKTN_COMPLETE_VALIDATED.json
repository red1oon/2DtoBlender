{
  "extraction_metadata": {
    "extracted_by": "AI_OCR",
    "extraction_date": "2025-11-24",
    "pdf_source": "TB-LKTN HOUSE.pdf",
    "extraction_version": "1.0",
    "validation_complete": true
  },

  "object_selection_preferences": {
    "building_type": "residential",
    "design_style": "modern",
    "reference_objects": {
      "default_toilet": "floor_mounted_toilet_lod300",
      "default_basin": "basin_residential_lod300",
      "default_kitchen_sink": "kitchen_sink_single_bowl",
      "default_door_main": "door_single_900_lod300",
      "default_switch": "switch_1gang_lod300",
      "default_outlet": "outlet_3pin_ms589_lod300",
      "default_roof": "roof_tile_9.7x7_lod300",
      "default_floor_slab": "slab_floor_150_lod300"
    }
  },

  "project": {
    "name": "TB-LKTN_HOUSE",
    "drawing_reference": "WD-1/01",
    "location": "Malaysia",
    "scale": 1.0,
    "units": "meters",
    "dimensions": {
      "width": 9.8,
      "length": 8.0,
      "height": 3.0,
      "roof_slope": 30.0
    }
  },

  "building": {
    "walls": [
      {"name": "north_wall", "start": [0, 0], "end": [9.8, 0]},
      {"name": "east_wall", "start": [9.8, 0], "end": [9.8, 8.0]},
      {"name": "south_wall", "start": [9.8, 8.0], "end": [0, 8.0]},
      {"name": "west_wall", "start": [0, 8.0], "end": [0, 0]}
    ],
    "rooms": [
      {
        "name": "living_room",
        "vertices": [[0, 0], [6, 0], [6, 4], [0, 4]],
        "entrance": [3, 0]
      },
      {
        "name": "master_bedroom",
        "vertices": [[4, 4], [9.8, 4], [9.8, 8], [4, 8]],
        "entrance": [6, 4]
      },
      {
        "name": "kitchen",
        "vertices": [[0, 4], [4, 4], [4, 8], [0, 8]],
        "entrance": [2, 4]
      },
      {
        "name": "bathroom",
        "vertices": [[6, 0], [9.8, 0], [9.8, 4], [6, 4]],
        "entrance": [8, 0]
      }
    ]
  },

  "objects": [
    {
      "_comment": "PARAMETRIC STRUCTURAL OBJECTS",
      "category": "structure"
    },
    {
      "object_type": "slab_floor_150_lod300",
      "name": "ground_floor_slab",
      "position": [4.9, 4.0, -0.075],
      "room": "foundation",

      "dimensions": {
        "width": 9.8,
        "length": 8.0,
        "thickness": 0.15
      },

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "facing_direction": [0, 0, 1]
      },

      "spacing": {
        "clearance_front": 0.0,
        "clearance_back": 0.0,
        "occupied_space": {
          "width": 9.8,
          "depth": 8.0,
          "height": 0.15
        }
      },

      "geometry": {
        "footprint_polygon": [[0, 0], [9.8, 0], [9.8, 8.0], [0, 8.0]]
      },

      "parametric": true,
      "derived_from": "walled_area",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "structural_hierarchy_valid": true
      }
    },
    {
      "object_type": "roof_tile_9.7x7_lod300",
      "name": "main_roof",
      "position": [4.9, 4.0, 3.0],
      "room": "exterior",

      "dimensions": {
        "width": 10.8,
        "length": 9.0,
        "height": 1.57,
        "ridge_height": 4.57,
        "overhang": 0.5
      },

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "slope": 30.0
      },

      "spacing": {
        "clearance_front": 0.0,
        "clearance_back": 0.0,
        "occupied_space": {
          "width": 10.8,
          "depth": 9.0,
          "height": 1.57
        }
      },

      "geometry": {
        "perimeter_polygon": [[0, 0], [9.8, 0], [9.8, 8.0], [0, 8.0]],
        "roof_type": "gable",
        "ridge_direction": "east-west"
      },

      "parametric": true,
      "derived_from": "outer_wall_perimeter_plus_height",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "structural_hierarchy_valid": true,
        "at_correct_height": true
      }
    },
    {
      "object_type": "gutter_pvc_150_lod300",
      "name": "north_gutter",
      "position": [4.9, -0.5, 3.0],
      "room": "exterior",

      "geometry": {
        "path_points": [[-0.5, -0.5], [10.3, -0.5]],
        "length": 10.8
      },

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 90.0,
        "slope": -0.5
      },

      "parametric": true,
      "derived_from": "roof_perimeter_north_edge",

      "validation": {
        "adjacency_valid": true,
        "no_clashes": true
      }
    },
    {
      "object_type": "gutter_pvc_150_lod300",
      "name": "south_gutter",
      "position": [4.9, 8.5, 3.0],
      "room": "exterior",

      "geometry": {
        "path_points": [[-0.5, 8.5], [10.3, 8.5]],
        "length": 10.8
      },

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 90.0,
        "slope": -0.5
      },

      "parametric": true,
      "derived_from": "roof_perimeter_south_edge",

      "validation": {
        "adjacency_valid": true,
        "no_clashes": true
      }
    },

    {
      "_comment": "TEXT-EXTRACTED OBJECTS - DOORS",
      "category": "doors"
    },
    {
      "object_type": "door_single_900_lod300",
      "name": "D1_main_entrance",
      "position": [2.0, 0.05, 0.0],
      "room": "living_room",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "wall_normal": [0, 1],
        "facing_direction": [0, 1],
        "opens_into": "living_room"
      },

      "spacing": {
        "clearance_front": 0.3,
        "swing_clearance": 0.9,
        "occupied_space": {
          "width": 0.9,
          "depth": 0.1,
          "height": 2.1
        }
      },

      "parametric": false,
      "extracted_from_pdf": "schedule_D1",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "corrections_applied": []
      }
    },
    {
      "object_type": "door_single_900_lod300",
      "name": "D2_bedroom_door",
      "position": [6.0, 4.05, 0.0],
      "room": "master_bedroom",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "wall_normal": [0, 1],
        "facing_direction": [0, 1],
        "opens_into": "master_bedroom"
      },

      "spacing": {
        "clearance_front": 0.3,
        "swing_clearance": 0.9,
        "occupied_space": {
          "width": 0.9,
          "depth": 0.1,
          "height": 2.1
        }
      },

      "parametric": false,
      "extracted_from_pdf": "schedule_D1",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true
      }
    },
    {
      "object_type": "door_single_750x2100_lod300",
      "name": "D3_bathroom_door",
      "position": [8.0, 0.05, 0.0],
      "room": "bathroom",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "wall_normal": [0, 1],
        "facing_direction": [0, 1],
        "opens_into": "bathroom"
      },

      "spacing": {
        "clearance_front": 0.3,
        "swing_clearance": 0.75,
        "occupied_space": {
          "width": 0.75,
          "depth": 0.1,
          "height": 2.1
        }
      },

      "parametric": false,
      "extracted_from_pdf": "schedule_D2",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true
      }
    },

    {
      "_comment": "ELECTRICAL OBJECTS - SWITCHES & OUTLETS",
      "category": "electrical"
    },
    {
      "object_type": "switch_1gang_lod300",
      "name": "living_room_switch",
      "position": [2.15, 0.02, 1.2],
      "room": "living_room",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "wall_normal": [0, 1],
        "facing_direction": [0, 1]
      },

      "spacing": {
        "clearance_front": 0.0,
        "clearance_left": 0.3,
        "clearance_right": 0.3,
        "occupied_space": {
          "width": 0.086,
          "depth": 0.05,
          "height": 0.086
        }
      },

      "parametric": false,
      "extracted_from_pdf": "floor_plan_label",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "height_compliant_ms589": true,
        "corrections_applied": [
          {
            "rule": "adjacency",
            "reason": "Moved to 150mm from door edge (was 500mm)",
            "old_position": [2.5, 0.02, 1.2],
            "new_position": [2.15, 0.02, 1.2]
          }
        ]
      }
    },
    {
      "object_type": "switch_1gang_lod300",
      "name": "bedroom_switch",
      "position": [6.15, 4.02, 1.2],
      "room": "master_bedroom",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "wall_normal": [0, 1],
        "facing_direction": [0, 1]
      },

      "spacing": {
        "clearance_front": 0.0,
        "clearance_left": 0.3,
        "clearance_right": 0.3,
        "occupied_space": {
          "width": 0.086,
          "depth": 0.05,
          "height": 0.086
        }
      },

      "parametric": false,
      "extracted_from_pdf": "floor_plan_label",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "height_compliant_ms589": true
      }
    },
    {
      "object_type": "outlet_3pin_ms589_lod300",
      "name": "living_room_outlet_1",
      "position": [1.0, 0.02, 0.3],
      "room": "living_room",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 0.0,
        "wall_normal": [0, 1],
        "facing_direction": [0, 1]
      },

      "spacing": {
        "clearance_front": 0.0,
        "clearance_left": 0.3,
        "clearance_right": 0.3,
        "occupied_space": {
          "width": 0.086,
          "depth": 0.05,
          "height": 0.086
        }
      },

      "parametric": false,
      "extracted_from_pdf": "floor_plan_label",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "height_compliant_ms589": true
      }
    },
    {
      "object_type": "outlet_3pin_ms589_lod300",
      "name": "living_room_outlet_2",
      "position": [5.0, 3.98, 0.3],
      "room": "living_room",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 180.0,
        "wall_normal": [0, -1],
        "facing_direction": [0, -1]
      },

      "spacing": {
        "clearance_front": 0.0,
        "clearance_left": 0.3,
        "clearance_right": 0.3,
        "occupied_space": {
          "width": 0.086,
          "depth": 0.05,
          "height": 0.086
        }
      },

      "parametric": false,
      "extracted_from_pdf": "floor_plan_label",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "height_compliant_ms589": true
      }
    },

    {
      "_comment": "PLUMBING FIXTURES",
      "category": "plumbing"
    },
    {
      "object_type": "floor_mounted_toilet_lod300",
      "name": "bathroom_toilet",
      "position": [9.5, 1.0, 0.0],
      "room": "bathroom",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 270.0,
        "wall_normal": [-1, 0],
        "facing_direction": [-1, 0]
      },

      "spacing": {
        "clearance_front": 0.6,
        "clearance_back": 0.0,
        "clearance_left": 0.15,
        "clearance_right": 0.15,
        "occupied_space": {
          "width": 0.45,
          "depth": 0.65,
          "height": 0.75
        }
      },

      "parametric": false,
      "extracted_from_pdf": "floor_plan_label_WC",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "clearance_compliant_ms1184": true,
        "corrections_applied": [
          {
            "rule": "arrangement",
            "reason": "Snapped to east wall (back against wall)",
            "old_position": [9.0, 1.0, 0.0],
            "new_position": [9.5, 1.0, 0.0]
          }
        ]
      }
    },
    {
      "object_type": "basin_residential_lod300",
      "name": "bathroom_basin",
      "position": [9.5, 3.0, 0.85],
      "room": "bathroom",

      "orientation": {
        "rotation_x": 0.0,
        "rotation_y": 0.0,
        "rotation_z": 270.0,
        "wall_normal": [-1, 0],
        "facing_direction": [-1, 0]
      },

      "spacing": {
        "clearance_front": 0.5,
        "clearance_back": 0.0,
        "clearance_left": 0.2,
        "clearance_right": 0.2,
        "occupied_space": {
          "width": 0.5,
          "depth": 0.4,
          "height": 0.2
        }
      },

      "parametric": false,
      "extracted_from_pdf": "floor_plan_label_Basin",

      "validation": {
        "adjacency_valid": true,
        "arrangement_valid": true,
        "clearance_valid": true,
        "no_clashes": true,
        "spacing_from_toilet": 2.0,
        "corrections_applied": [
          {
            "rule": "arrangement",
            "reason": "Snapped to east wall",
            "old_position": [9.0, 3.0, 0.85],
            "new_position": [9.5, 3.0, 0.85]
          }
        ]
      }
    }
  ],

  "validation_summary": {
    "total_objects": 14,
    "parametric_objects": 4,
    "text_extracted_objects": 10,
    "auto_corrections_applied": 4,
    "violations_found": 0,
    "success_rate": "100%",
    "standards_compliance": {
      "ms589_electrical": true,
      "ms1184_plumbing": true,
      "ubbl_building": true
    }
  }
}
